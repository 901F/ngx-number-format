{"version":3,"file":"ngx-number-format.umd.js","sources":["ng://ngx-number-format/lib/ngx-number-format.directive.ts","ng://ngx-number-format/lib/ngx-number-format.module.ts"],"sourcesContent":["import { Directive, forwardRef, OnInit, ElementRef, Input, HostListener } from '@angular/core';\nimport { ControlValueAccessor, NG_VALUE_ACCESSOR } from '@angular/forms';\n\n@Directive({\n    selector: '[ngxNumberFormat]',\n    providers: [\n        {\n            provide: NG_VALUE_ACCESSOR,\n            useExisting: forwardRef(() => NgxNumberFormatDirective),\n            multi: true\n        }\n    ]\n})\nexport class NgxNumberFormatDirective implements ControlValueAccessor, OnInit {\n\n    private _oldValueForDetectChange: string = null;\n    private _oldValue: string = null;\n    private _displayValue: string = null;\n    private _max: number = 0;\n    private _decimal: number = 0;\n    private _format: boolean = false;\n    private _formElement: HTMLInputElement;\n    private _specialKeys: Array<string> = ['Backspace', 'Tab', 'End', 'Home', 'ArrowUp', 'ArrowDown', 'ArrowLeft', 'ArrowRight', 'Enter', 'Delete'];\n    private _regExNumber: RegExp = new RegExp(/^[0-9]*$/g);\n    private _regExNumberAndDecimal: RegExp = new RegExp(/^[0-9]+(\\.[0-9]*){0,1}$/g);\n    private _oldSelectionStart: number = 0;\n    private _detectDelete: boolean = false;\n    private _detectBackspace: boolean = false;\n    private _detectSelectAll: boolean = false;\n    private _process: boolean = false;\n\n    public onChange = (_: any) => { };\n    public onTouch = () => { };\n\n    constructor(private el: ElementRef) { }\n\n    ngOnInit() {\n        this._formElement = this.el.nativeElement;\n    }\n\n    @Input('ngxNumberFormat')\n    public set initialize(_value: string) {\n        this.setFormat(_value);\n    }\n\n    @HostListener('keydown', ['$event'])\n    onKeyDown(event: KeyboardEvent) {\n\n        if (this._process) {\n            if (event.key == 'Backspace') {\n                this._detectBackspace = true;\n                let last: string = this._formElement.value.substring(this._formElement.selectionStart - 1, this._formElement.selectionStart);\n                if (this._formElement.selectionStart == this._formElement.selectionEnd && last == ',') {\n                    this.setCursorAt(this._formElement.selectionStart - 1);\n                    event.preventDefault();\n                }\n            } else {\n                this._detectBackspace = false;\n            }\n    \n            if (event.key == 'Delete') {\n                this._detectDelete = true;\n                let last: string = this._formElement.value.substring(this._formElement.selectionEnd, this._formElement.selectionEnd + 1);\n                if (this._formElement.selectionStart == this._formElement.selectionEnd && last == ',') {\n                    this.setCursorAt(this._formElement.selectionEnd + 1);\n                    event.preventDefault();\n                }\n            } else {\n                this._detectDelete = false;\n            }\n    \n            if (\n                this._specialKeys.indexOf(event.key) !== -1\n                || (event.keyCode === 65 && (event.ctrlKey || event.metaKey)) // Allow: Ctrl + A\n                || (event.keyCode === 67 && (event.ctrlKey || event.metaKey)) // Allow: Ctrl + C\n                || (event.keyCode === 86 && (event.ctrlKey || event.metaKey)) // Allow: Ctrl + V\n                || (event.keyCode === 88 && (event.ctrlKey || event.metaKey)) // Allow: Ctrl + X\n            ) {\n                return;\n            }\n    \n            let current: string = this.el.nativeElement.value;\n            let firstPart: string = current.substring(0, this._formElement.selectionStart);\n            let secondPart: string = current.substring(this._formElement.selectionEnd);\n            let next: string = (firstPart.concat(event.key) + secondPart).replace(/,/g, '');\n    \n            let regEx = this.getRegEx();\n    \n            let value = next.split('.');\n            if (next && !String(next).match(regEx) || (value[0].length > this._max && this._formElement.selectionStart == this._formElement.selectionEnd) || (this._decimal > 0 && value.length == 2 && (value[1].length > this._decimal && this._formElement.selectionStart == this._formElement.selectionEnd))) {\n                event.preventDefault();\n            } else {\n                this._oldSelectionStart = this._formElement.selectionStart;\n                this._oldValue = this._formElement.value;\n            }\n        }\n\n    }\n\n    @HostListener('click', ['$event'])\n    public onClick(event): void {\n        this._oldSelectionStart = this._formElement.selectionStart;\n        this._oldValue = this._formElement.value;\n        this._oldValueForDetectChange = event.target.value;\n    }\n\n    @HostListener('input', ['$event'])\n    public onInput(event): void {\n        let value = event.target.value;\n\n        if (this._process) {\n            if (value && !String(value).replace(/,/g, '').match(this.getRegEx())) {\n                this._formElement.value = '';\n            } else {\n                if (this._detectBackspace || this._detectDelete) {\n                    this._oldSelectionStart = this._formElement.selectionStart - 1;\n                    this._oldValue = this._formElement.value;\n                }\n                this.onValueChange(value);\n            }\n        }\n\n    }\n\n    @HostListener('blur', ['$event'])\n    public onBlur(event): void {\n        let value = event.target.value;\n\n        if (value.length > 0 && this._decimal > 0) {\n            value = value.replace(/,/g, '');\n            value = Number(value).toFixed(this._decimal).toString();\n            this._formElement.value = value.replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\");\n        }\n        this.onTouch();\n\n        // Fix bug on Internet Explorer and Microsoft Edge not fire change event when set value to input element by javascript.\n        let isIEOrEdge = /msie\\s|trident\\/|edge\\//i.test(window.navigator.userAgent);\n        if (isIEOrEdge && (value != this._oldValueForDetectChange)) {\n            var evt = document.createEvent(\"HTMLEvents\");\n            evt.initEvent(\"change\", false, true);\n            event.target.dispatchEvent(evt);\n        }\n    }\n\n    processCursorPosition(_oldValue: string, _oldSelectionStart: number, _newValue: string) {\n        let _oldTotalComma = 0;\n        let _newTotalComma = 0;\n        if (_newValue) {\n            _oldValue = _oldValue.substr(0, _oldSelectionStart);\n            _oldTotalComma = (_oldValue.match(/,/g) || []).length;\n            _newValue = _newValue.substr(0, _oldSelectionStart + 1);\n            _newTotalComma = (_newValue.match(/,/g) || []).length;\n            this.setCursorAt(_oldSelectionStart + 1 + (_newTotalComma - _oldTotalComma));\n        }\n    }\n\n    setCursorAt(position: number): void {\n        if (this._formElement.setSelectionRange) {\n            this._formElement.focus();\n            this._formElement.setSelectionRange(position, position);\n        }\n    }\n\n    writeValue(value: any): void {\n\n        if (value != null && value != '') {\n            if (typeof (value) === 'string') {\n                value = value.replace(/,/g, '');\n            } else {\n                value = value.toString();\n            }\n        }\n\n        this.onValueChange(value, false);\n    }\n\n    registerOnChange(fn: any): void {\n        this.onChange = fn;\n    }\n\n    registerOnTouched(fn: any): void {\n        this.onTouch = fn;\n    }\n\n    setDisabledState?(value: boolean): void {\n        this._formElement.disabled = value;\n    }\n\n    private onValueChange(newValue: string, cursor: boolean = true) {\n\n        if (newValue !== this._displayValue && this._process) {\n            let value;\n\n            if ((newValue == null) || (newValue.trim() === '')) {\n                value = '';\n            } else {\n                value = newValue.replace(/,/g, '');\n                value = this.removeLeadingZero(value);\n            }\n\n\n            if (this._format) {\n                this._displayValue = value.replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\");\n            } else {\n                this._displayValue = value;\n            }\n\n\n\n            this._formElement.value = this._displayValue;\n            this.onChange(value);\n            if (cursor) {\n                this.processCursorPosition(this._oldValue, this._oldSelectionStart, this._displayValue);\n            }\n        }\n    }\n\n    private removeLeadingZero(value: string): string {\n        if (value.indexOf('.') == -1) {\n            let convertVal = +value;\n            value = convertVal.toString();\n        }\n        return value;\n    }\n\n    private getRegEx(): RegExp {\n        return (this._decimal > 0) ? this._regExNumberAndDecimal : this._regExNumber;\n    }\n\n    private setFormat(_value: string) {\n\n        if (_value) {\n            this._process = true;\n        } else {\n            this._process = false;\n        }\n\n        if (_value.indexOf(',') !== -1) {\n            this._format = true;\n        } else {\n            this._format = false;\n        }\n        _value = _value.replace(/,/g, '');\n        let data = _value.split('.');\n\n        if (data.length == 1) {\n            this._max = data[0].length;\n        } else if (data.length == 2) {\n            this._max = data[0].length;\n            this._decimal = data[1].length;\n        }\n\n    }\n}","import { NgModule } from '@angular/core';\nimport { NgxNumberFormatDirective } from './ngx-number-format.directive';\n\n\n\n@NgModule({\n  declarations: [NgxNumberFormatDirective],\n  exports: [NgxNumberFormatDirective]\n})\nexport class NgxNumberFormatModule { }\n"],"names":["Directive","NG_VALUE_ACCESSOR","forwardRef","ElementRef","Input","HostListener","NgModule"],"mappings":"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"}